<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logodle - Zgadnij Markƒô</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Firebase SDK (compat) -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-database-compat.js"></script>
    <script src="../firebase-config.js"></script>
    <script src="../firebase-leaderboard.js"></script>
    <script src="../user-manager.js"></script>
    <script src="../leaderboard-component.js"></script>
</head>

<body>
    <a href="../index.html" class="btn-home">
        <i class="fa-solid fa-house"></i> <span>MENU</span>
    </a>

    <div class="bg-animation"></div>

    <!-- ======================== MENU ======================== -->
    <div id="menu" class="card glass-panel fade-in">
        <header class="header-area">
            <h1>LOGO<span class="accent">DLE</span></h1>
            <p class="subtitle">Rozpoznasz markƒô po fragmencie?</p>
        </header>

        <p class="section-label">Wybierz poziom</p>

        <div class="levels-list">
            <button class="btn-level lvl-easy" onclick="game.start('easy')">
                <div class="lvl-icon"><i class="fa-solid fa-star"></i></div>
                <div class="lvl-info">
                    <span class="lvl-name">≈Åatwy</span>
                    <span class="lvl-date">Giganci rynku</span>
                </div>
                <div class="lvl-record-box">
                    <span class="rec-val" id="record-easy">0</span>
                </div>
            </button>

            <button class="btn-level lvl-medium" onclick="game.start('hard')">
                <div class="lvl-icon"><i class="fa-solid fa-fire"></i></div>
                <div class="lvl-info">
                    <span class="lvl-name">≈öredni</span>
                    <span class="lvl-date">Popularne marki</span>
                </div>
                <div class="lvl-record-box">
                    <span class="rec-val" id="record-hard">0</span>
                </div>
            </button>

            <button class="btn-level lvl-hard" onclick="game.start('pro')">
                <div class="lvl-icon"><i class="fa-solid fa-bolt"></i></div>
                <div class="lvl-info">
                    <span class="lvl-name">Trudny</span>
                    <span class="lvl-date">Technologia i inne</span>
                </div>
                <div class="lvl-record-box">
                    <span class="rec-val" id="record-pro">0</span>
                </div>
            </button>

            <button class="btn-level lvl-expert" onclick="game.start('expert')">
                <div class="lvl-icon"><i class="fa-solid fa-skull"></i></div>
                <div class="lvl-info">
                    <span class="lvl-name">Ekspert</span>
                    <span class="lvl-date">Czarno-bia≈Çe</span>
                </div>
                <div class="lvl-record-box">
                    <span class="rec-val" id="record-expert">0</span>
                </div>
            </button>
        </div>

        <div class="rules-box">
            <p class="rules-title"><i class="fa-solid fa-circle-info"></i> Zasady</p>
            <ul>
                <li><strong>Cel:</strong> Zgadnij markƒô po rozmazanym logo. B≈ÇƒÖd zmniejsza rozmycie.</li>
                <li><strong>Punktacja:</strong> +6 pkt + bonus za passƒô.</li>
                <li><strong>Ekspert:</strong> Loga czarno-bia≈Çe i powiƒôkszone.</li>
            </ul>
        </div>
    </div>

    <!-- ======================== GRA ======================== -->
    <div id="game" class="game-panel glass-panel hidden">

        <div id="recordAnim" class="record-popup hidden">
            üèÜ NOWY REKORD! üèÜ
        </div>

        <!-- Top bar z HUD -->
        <div class="game-top-bar">
            <div class="game-logo">LOGO<span class="accent">DLE</span></div>
            <div class="game-scores">
                <span class="score-item">Runda: <strong id="round">1</strong>/8</span>
                <span class="score-divider">¬∑</span>
                <span class="score-item">Wynik: <strong id="score" class="highlight-text">0</strong></span>
                <span class="score-divider">¬∑</span>
                <span class="score-item">Passa: <strong id="currentStreak" class="fire-text">0</strong></span>
            </div>
        </div>

        <!-- Progress bar -->
        <div class="progress-track">
            <div class="progress-fill" id="progressBar"></div>
        </div>

        <!-- Logo area -->
        <div class="logo-area">
            <div class="points-popup" id="pointsPopup"></div>
            <div class="logo-frame">
                <img id="flag" class="logo-img" src="" alt="Logo" draggable="false">
            </div>
        </div>

        <!-- Pr√≥by (dots) -->
        <div class="attempts-row" id="attemptsDots"></div>

        <!-- Input i przycisk -->
        <div class="input-area">
            <div class="input-wrapper">
                <input id="guess" type="text" placeholder="Wpisz nazwƒô firmy..." autocomplete="off">
                <ul id="suggestList" class="suggestions hidden"></ul>
            </div>
            <button id="checkBtn" class="btn-check">SPRAWD≈π</button>
        </div>

        <!-- Feedback -->
        <p id="message" class="msg-text">Powodzenia!</p>

        <button id="backMenu" class="btn-text hidden" onclick="game.backToMenu()">WR√ìƒÜ DO MENU</button>

        <!-- Zmie≈Ñ kategoriƒô -->
        <button class="btn-change-category" onclick="game.backToMenu()">
            <i class="fa-solid fa-shuffle"></i> ZMIE≈É KATEGORIƒò
        </button>

        <!-- Leaderboard -->
        <div id="leaderboard-container"></div>
    </div>

    <script src="script.js"></script>
    <script src="../security.js"></script>
</body>

</html>